<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Functionals | A Short Introduction to Applied Statistical Programming in R</title>
  <meta name="description" content="The purpose of this book is to teach students of social science statistics courses how to program in R for data analysis." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Functionals | A Short Introduction to Applied Statistical Programming in R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://aspr.netlify.app/" />
  <meta property="og:image" content="https://aspr.netlify.app//img/cover_image.jpg" />
  <meta property="og:description" content="The purpose of this book is to teach students of social science statistics courses how to program in R for data analysis." />
  <meta name="github-repo" content="robertschnitman/aspr" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Functionals | A Short Introduction to Applied Statistical Programming in R" />
  
  <meta name="twitter:description" content="The purpose of this book is to teach students of social science statistics courses how to program in R for data analysis." />
  <meta name="twitter:image" content="https://aspr.netlify.app//img/cover_image.jpg" />

<meta name="author" content="Robert Schnitman" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="function-writing.html"/>
<link rel="next" href="graphing.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#index" id="toc-index">Introduction</a></li>
<li><a href="prerequisites.html#prerequisites" id="toc-prerequisites">Prerequisites</a></li>
<li><a href="the-paradigms-of-r.html#the-paradigms-of-r" id="toc-the-paradigms-of-r"><span class="toc-section-number">1</span> The Paradigms of R</a>
<ul>
<li><a href="the-paradigms-of-r.html#array" id="toc-array"><span class="toc-section-number">1.1</span> Array</a></li>
<li><a href="the-paradigms-of-r.html#functional" id="toc-functional"><span class="toc-section-number">1.2</span> Functional</a></li>
<li><a href="the-paradigms-of-r.html#object-oriented" id="toc-object-oriented"><span class="toc-section-number">1.3</span> Object Oriented</a></li>
<li><a href="the-paradigms-of-r.html#summary" id="toc-summary"><span class="toc-section-number">1.4</span> Summary</a></li>
</ul></li>
<li><a href="basics.html#basics" id="toc-basics"><span class="toc-section-number">2</span> Basics</a>
<ul>
<li><a href="basics.html#r-as-a-calculator" id="toc-r-as-a-calculator"><span class="toc-section-number">2.1</span> R as a calculator</a>
<ul>
<li><a href="basics.html#operators" id="toc-operators"><span class="toc-section-number">2.1.1</span> Operators</a></li>
</ul></li>
<li><a href="basics.html#data-types-and-classes" id="toc-data-types-and-classes"><span class="toc-section-number">2.2</span> Data Types and Classes</a>
<ul>
<li><a href="basics.html#classes" id="toc-classes"><span class="toc-section-number">2.2.1</span> Classes</a></li>
<li><a href="basics.html#types" id="toc-types"><span class="toc-section-number">2.2.2</span> Types</a></li>
</ul></li>
<li><a href="basics.html#assignments" id="toc-assignments"><span class="toc-section-number">2.3</span> Assignments</a>
<ul>
<li><a href="basics.html#addingremoving-variables" id="toc-addingremoving-variables"><span class="toc-section-number">2.3.1</span> Adding/Removing Variables</a></li>
</ul></li>
<li><a href="basics.html#viewing-data" id="toc-viewing-data"><span class="toc-section-number">2.4</span> Viewing Data</a></li>
<li><a href="basics.html#getting-help" id="toc-getting-help"><span class="toc-section-number">2.5</span> Getting Help</a></li>
<li><a href="basics.html#summary-1" id="toc-summary-1"><span class="toc-section-number">2.6</span> Summary</a></li>
</ul></li>
<li><a href="data-management.html#data-management" id="toc-data-management"><span class="toc-section-number">3</span> Data Management</a>
<ul>
<li><a href="data-management.html#replacing-values" id="toc-replacing-values"><span class="toc-section-number">3.1</span> Replacing Values</a></li>
<li><a href="data-management.html#switching-values" id="toc-switching-values"><span class="toc-section-number">3.2</span> Switching Values</a>
<ul>
<li><a href="data-management.html#scalar-case" id="toc-scalar-case"><span class="toc-section-number">3.2.1</span> Scalar Case</a></li>
<li><a href="data-management.html#vector-case" id="toc-vector-case"><span class="toc-section-number">3.2.2</span> Vector Case</a></li>
</ul></li>
<li><a href="data-management.html#importing-data" id="toc-importing-data"><span class="toc-section-number">3.3</span> Importing Data</a></li>
<li><a href="data-management.html#combining-data" id="toc-combining-data"><span class="toc-section-number">3.4</span> Combining Data</a>
<ul>
<li><a href="data-management.html#cbindrbind" id="toc-cbindrbind"><span class="toc-section-number">3.4.1</span> <code>cbind()</code>/<code>rbind()</code></a></li>
<li><a href="data-management.html#merge" id="toc-merge"><span class="toc-section-number">3.4.2</span> <code>merge()</code></a></li>
</ul></li>
<li><a href="data-management.html#subsetting-data" id="toc-subsetting-data"><span class="toc-section-number">3.5</span> Subsetting Data</a>
<ul>
<li><a href="data-management.html#vector-case-1" id="toc-vector-case-1"><span class="toc-section-number">3.5.1</span> Vector Case</a></li>
<li><a href="data-management.html#data-frame-case" id="toc-data-frame-case"><span class="toc-section-number">3.5.2</span> Data Frame Case</a></li>
</ul></li>
<li><a href="data-management.html#splitting-data" id="toc-splitting-data"><span class="toc-section-number">3.6</span> Splitting Data</a></li>
<li><a href="data-management.html#summary-2" id="toc-summary-2"><span class="toc-section-number">3.7</span> Summary</a></li>
</ul></li>
<li><a href="string-functions.html#string-functions" id="toc-string-functions"><span class="toc-section-number">4</span> String Functions</a>
<ul>
<li><a href="string-functions.html#concatenate-strings" id="toc-concatenate-strings"><span class="toc-section-number">4.1</span> Concatenate Strings</a></li>
<li><a href="string-functions.html#subset-strings" id="toc-subset-strings"><span class="toc-section-number">4.2</span> Subset Strings</a></li>
<li><a href="string-functions.html#split-strings" id="toc-split-strings"><span class="toc-section-number">4.3</span> Split Strings</a></li>
<li><a href="string-functions.html#substitute-strings" id="toc-substitute-strings"><span class="toc-section-number">4.4</span> Substitute Strings</a></li>
<li><a href="string-functions.html#match-string-patterns" id="toc-match-string-patterns"><span class="toc-section-number">4.5</span> Match String Patterns</a></li>
<li><a href="string-functions.html#summary-3" id="toc-summary-3"><span class="toc-section-number">4.6</span> Summary</a></li>
</ul></li>
<li><a href="control-flow.html#control-flow" id="toc-control-flow"><span class="toc-section-number">5</span> Control Flow</a>
<ul>
<li><a href="control-flow.html#if-and-ifelse" id="toc-if-and-ifelse"><span class="toc-section-number">5.1</span> <code>if</code> and <code>ifelse()</code></a></li>
<li><a href="control-flow.html#loops" id="toc-loops"><span class="toc-section-number">5.2</span> Loops</a>
<ul>
<li><a href="control-flow.html#for-loop" id="toc-for-loop"><span class="toc-section-number">5.2.1</span> <code>for</code> loop</a></li>
<li><a href="control-flow.html#while-loop" id="toc-while-loop"><span class="toc-section-number">5.2.2</span> <code>while</code> loop</a></li>
</ul></li>
<li><a href="control-flow.html#summary-4" id="toc-summary-4"><span class="toc-section-number">5.3</span> Summary</a></li>
</ul></li>
<li><a href="descriptive-statistics.html#descriptive-statistics" id="toc-descriptive-statistics"><span class="toc-section-number">6</span> Descriptive Statistics</a>
<ul>
<li><a href="descriptive-statistics.html#centrality-and-spread" id="toc-centrality-and-spread"><span class="toc-section-number">6.1</span> Centrality and Spread</a></li>
<li><a href="descriptive-statistics.html#minimum-and-maximum" id="toc-minimum-and-maximum"><span class="toc-section-number">6.2</span> Minimum and Maximum</a></li>
<li><a href="descriptive-statistics.html#data-dimensions" id="toc-data-dimensions"><span class="toc-section-number">6.3</span> Data Dimensions</a></li>
<li><a href="descriptive-statistics.html#data-summary" id="toc-data-summary"><span class="toc-section-number">6.4</span> Data Summary</a></li>
<li><a href="descriptive-statistics.html#frequency-tables" id="toc-frequency-tables"><span class="toc-section-number">6.5</span> Frequency Tables</a>
<ul>
<li><a href="descriptive-statistics.html#single-variable-case" id="toc-single-variable-case"><span class="toc-section-number">6.5.1</span> Single-variable Case</a></li>
<li><a href="descriptive-statistics.html#multi-variable-case" id="toc-multi-variable-case"><span class="toc-section-number">6.5.2</span> Multi-variable Case</a></li>
<li><a href="descriptive-statistics.html#converting-to-a-data-frame" id="toc-converting-to-a-data-frame"><span class="toc-section-number">6.5.3</span> Converting to a Data Frame</a></li>
</ul></li>
<li><a href="descriptive-statistics.html#summary-5" id="toc-summary-5"><span class="toc-section-number">6.6</span> Summary</a></li>
</ul></li>
<li><a href="probability-functions.html#probability-functions" id="toc-probability-functions"><span class="toc-section-number">7</span> Probability Functions</a>
<ul>
<li><a href="probability-functions.html#generating-random-numbers" id="toc-generating-random-numbers"><span class="toc-section-number">7.1</span> Generating Random Numbers</a></li>
<li><a href="probability-functions.html#sampling" id="toc-sampling"><span class="toc-section-number">7.2</span> Sampling</a></li>
<li><a href="probability-functions.html#others" id="toc-others"><span class="toc-section-number">7.3</span> Others</a></li>
<li><a href="probability-functions.html#summary-6" id="toc-summary-6"><span class="toc-section-number">7.4</span> Summary</a></li>
</ul></li>
<li><a href="function-writing.html#function-writing" id="toc-function-writing"><span class="toc-section-number">8</span> Function Writing</a>
<ul>
<li><a href="function-writing.html#univariate-case" id="toc-univariate-case"><span class="toc-section-number">8.1</span> Univariate Case</a></li>
<li><a href="function-writing.html#multivariate-case" id="toc-multivariate-case"><span class="toc-section-number">8.2</span> Multivariate Case</a></li>
<li><a href="function-writing.html#summary-7" id="toc-summary-7"><span class="toc-section-number">8.3</span> Summary</a></li>
</ul></li>
<li><a href="functionals.html#functionals" id="toc-functionals"><span class="toc-section-number">9</span> Functionals</a>
<ul>
<li><a href="functionals.html#lapply" id="toc-lapply"><span class="toc-section-number">9.1</span> <code>lapply()</code></a></li>
<li><a href="functionals.html#sapply" id="toc-sapply"><span class="toc-section-number">9.2</span> <code>sapply()</code></a></li>
<li><a href="functionals.html#apply" id="toc-apply"><span class="toc-section-number">9.3</span> <code>apply()</code></a></li>
<li><a href="functionals.html#vapply" id="toc-vapply"><span class="toc-section-number">9.4</span> <code>vapply()</code></a></li>
<li><a href="functionals.html#mapplymap" id="toc-mapplymap"><span class="toc-section-number">9.5</span> <code>mapply()</code>/<code>Map()</code></a>
<ul>
<li><a href="functionals.html#univariate-case-1" id="toc-univariate-case-1"><span class="toc-section-number">9.5.1</span> Univariate Case</a></li>
<li><a href="functionals.html#multivariate-case-1" id="toc-multivariate-case-1"><span class="toc-section-number">9.5.2</span> Multivariate Case</a></li>
</ul></li>
<li><a href="functionals.html#rapply" id="toc-rapply"><span class="toc-section-number">9.6</span> <code>rapply()</code></a></li>
<li><a href="functionals.html#tapply" id="toc-tapply"><span class="toc-section-number">9.7</span> <code>tapply()</code></a></li>
<li><a href="functionals.html#aggregate" id="toc-aggregate"><span class="toc-section-number">9.8</span> <code>aggregate()</code></a></li>
<li><a href="functionals.html#summary-8" id="toc-summary-8"><span class="toc-section-number">9.9</span> Summary</a></li>
</ul></li>
<li><a href="graphing.html#graphing" id="toc-graphing"><span class="toc-section-number">10</span> Graphing</a>
<ul>
<li><a href="graphing.html#histograms-and-density-plots" id="toc-histograms-and-density-plots"><span class="toc-section-number">10.1</span> Histograms and Density Plots</a></li>
<li><a href="graphing.html#scatter-plots" id="toc-scatter-plots"><span class="toc-section-number">10.2</span> Scatter Plots</a>
<ul>
<li><a href="graphing.html#simple-scatter-plot" id="toc-simple-scatter-plot"><span class="toc-section-number">10.2.1</span> Simple Scatter Plot</a></li>
<li><a href="graphing.html#multiple-scatter-plots" id="toc-multiple-scatter-plots"><span class="toc-section-number">10.2.2</span> Multiple Scatter Plots</a></li>
<li><a href="graphing.html#text-plot" id="toc-text-plot"><span class="toc-section-number">10.2.3</span> Text Plot</a></li>
</ul></li>
<li><a href="graphing.html#line-plots" id="toc-line-plots"><span class="toc-section-number">10.3</span> Line Plots</a></li>
<li><a href="graphing.html#box-plots" id="toc-box-plots"><span class="toc-section-number">10.4</span> Box Plots</a></li>
<li><a href="graphing.html#bar-plots" id="toc-bar-plots"><span class="toc-section-number">10.5</span> Bar Plots</a>
<ul>
<li><a href="graphing.html#frequency-chart" id="toc-frequency-chart"><span class="toc-section-number">10.5.1</span> Frequency Chart</a></li>
<li><a href="graphing.html#grouped-mean-comparisons" id="toc-grouped-mean-comparisons"><span class="toc-section-number">10.5.2</span> Grouped Mean Comparisons</a></li>
</ul></li>
<li><a href="graphing.html#summary-9" id="toc-summary-9"><span class="toc-section-number">10.6</span> Summary</a></li>
</ul></li>
<li><a href="hypothesis-testing.html#hypothesis-testing" id="toc-hypothesis-testing"><span class="toc-section-number">11</span> Hypothesis Testing</a>
<ul>
<li><a href="hypothesis-testing.html#t-test" id="toc-t-test"><span class="toc-section-number">11.1</span> t-test</a>
<ul>
<li><a href="hypothesis-testing.html#one-sample-t-test" id="toc-one-sample-t-test"><span class="toc-section-number">11.1.1</span> One-sample t-test</a></li>
<li><a href="hypothesis-testing.html#two-sample-t-test" id="toc-two-sample-t-test"><span class="toc-section-number">11.1.2</span> Two-sample t-test</a></li>
</ul></li>
<li><a href="hypothesis-testing.html#chi-square-test" id="toc-chi-square-test"><span class="toc-section-number">11.2</span> Chi-square test</a></li>
<li><a href="hypothesis-testing.html#summary-10" id="toc-summary-10"><span class="toc-section-number">11.3</span> Summary</a></li>
</ul></li>
<li><a href="linear-modeling.html#linear-modeling" id="toc-linear-modeling"><span class="toc-section-number">12</span> Linear Modeling</a>
<ul>
<li><a href="linear-modeling.html#pearson-correlations" id="toc-pearson-correlations"><span class="toc-section-number">12.1</span> Pearson Correlations</a></li>
<li><a href="linear-modeling.html#anova" id="toc-anova"><span class="toc-section-number">12.2</span> ANOVA</a></li>
<li><a href="linear-modeling.html#ordinary-least-squares" id="toc-ordinary-least-squares"><span class="toc-section-number">12.3</span> Ordinary Least Squares</a>
<ul>
<li><a href="linear-modeling.html#residual-diagnostics-with-ols" id="toc-residual-diagnostics-with-ols"><span class="toc-section-number">12.3.1</span> Residual diagnostics with OLS</a></li>
</ul></li>
<li><a href="linear-modeling.html#logistic-regression" id="toc-logistic-regression"><span class="toc-section-number">12.4</span> Logistic Regression</a></li>
<li><a href="linear-modeling.html#summary-11" id="toc-summary-11"><span class="toc-section-number">12.5</span> Summary</a></li>
</ul></li>
<li><a href="recommended-r-libraries.html#recommended-r-libraries" id="toc-recommended-r-libraries"><span class="toc-section-number">13</span> Recommended R Libraries</a>
<ul>
<li><a href="recommended-r-libraries.html#tidyverse" id="toc-tidyverse"><span class="toc-section-number">13.1</span> <code>tidyverse</code></a>
<ul>
<li><a href="recommended-r-libraries.html#ggplot2" id="toc-ggplot2"><span class="toc-section-number">13.1.1</span> <code>ggplot2</code></a></li>
<li><a href="recommended-r-libraries.html#dplyr" id="toc-dplyr"><span class="toc-section-number">13.1.2</span> <code>dplyr</code></a></li>
<li><a href="recommended-r-libraries.html#tidyr" id="toc-tidyr"><span class="toc-section-number">13.1.3</span> <code>tidyr</code></a></li>
<li><a href="recommended-r-libraries.html#purrr" id="toc-purrr"><span class="toc-section-number">13.1.4</span> <code>purrr</code></a></li>
</ul></li>
<li><a href="recommended-r-libraries.html#knitr" id="toc-knitr"><span class="toc-section-number">13.2</span> <code>knitr</code></a></li>
<li><a href="recommended-r-libraries.html#stargazer" id="toc-stargazer"><span class="toc-section-number">13.3</span> <code>stargazer</code></a></li>
<li><a href="recommended-r-libraries.html#summary-12" id="toc-summary-12"><span class="toc-section-number">13.4</span> Summary</a></li>
</ul></li>
<li><a href="conclusion.html#conclusion" id="toc-conclusion"><span class="toc-section-number">14</span> Conclusion</a></li>
<li><a href="about-the-author.html#about-the-author" id="toc-about-the-author">About the Author</a></li>
<li><a href="resources.html#resources" id="toc-resources">Resources</a></li>
<li><a href="references.html#references" id="toc-references">References</a></li>
<li><a href="footnotes.html#footnotes" id="toc-footnotes">Footnotes</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Short Introduction to Applied Statistical Programming in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="functionals" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Functionals</h1>
<p>Functionals are functions that take a function as an input and output a value. They are useful for casting a function over all columns in a dataset or elements in a list.</p>
<p>This chapter will demonstrate a select handful of functionals–see <code>?lapply</code> for more information.</p>
<div id="lapply" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> <code>lapply()</code></h2>
<p>The <code>lapply()</code> function (“list apply”) casts a function over an object, such as a dataset or list, and outputs a list. This function is useful when you want to iterate over disparate elements and output similarly disparate results.</p>
<p>Below is a simple example of calculating the means for each column in the <code>mtcars</code> dataset. Note how the elements are not stored in a one- nor two-dimensional format like a vector or data frame.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="functionals.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Means for each column in mtcars.</span></span>
<span id="cb172-2"><a href="functionals.html#cb172-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(mtcars, mean)</span></code></pre></div>
<pre><code>## $mpg
## [1] 20.09062
## 
## $cyl
## [1] 6.1875
## 
## $disp
## [1] 230.7219
## 
## $hp
## [1] 146.6875
## 
## $drat
## [1] 3.596563
## 
## $wt
## [1] 3.21725
## 
## $qsec
## [1] 17.84875
## 
## $vs
## [1] 0.4375
## 
## $am
## [1] 0.40625
## 
## $gear
## [1] 3.6875
## 
## $carb
## [1] 2.8125</code></pre>
<p>For a more complex example, we can use <code>lapply()</code> to estimate several models based on different subsets of the same dataset. First, we’ll use <code>split()</code> to divide mtcars into smaller subsets.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="functionals.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Split mtcars by gear</span></span>
<span id="cb174-2"><a href="functionals.html#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="co"># i.e. each subset is based on a different number of gears.</span></span>
<span id="cb174-3"><a href="functionals.html#cb174-3" aria-hidden="true" tabindex="-1"></a>subset_list <span class="ot">&lt;-</span> <span class="fu">split</span>(mtcars, mtcars<span class="sc">$</span>gear)</span>
<span id="cb174-4"><a href="functionals.html#cb174-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-5"><a href="functionals.html#cb174-5" aria-hidden="true" tabindex="-1"></a>subset_list</span></code></pre></div>
<pre><code>## $`3`
##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## 
## $`4`
##                 mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4      21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag  21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710     22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Merc 240D      24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230       22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280       19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C      17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Fiat 128       32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic    30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla 33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Fiat X1-9      27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Volvo 142E     21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
## 
## $`5`
##                 mpg cyl  disp  hp drat    wt qsec vs am gear carb
## Porsche 914-2  26.0   4 120.3  91 4.43 2.140 16.7  0  1    5    2
## Lotus Europa   30.4   4  95.1 113 3.77 1.513 16.9  1  1    5    2
## Ford Pantera L 15.8   8 351.0 264 4.22 3.170 14.5  0  1    5    4
## Ferrari Dino   19.7   6 145.0 175 3.62 2.770 15.5  0  1    5    6
## Maserati Bora  15.0   8 301.0 335 3.54 3.570 14.6  0  1    5    8</code></pre>
<p>Then, we will execute <code>lapply()</code> over the subsets to estimate the same model. Unlike before in which we can simply input <code>mean</code> into <code>lapply()</code>, we have to tell R that we want to use a customized function by inputting <code>function(x)</code> instead–in other words, we have to pass in an anonymous function, which is a function that is not named beforehand.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="functionals.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate models</span></span>
<span id="cb176-2"><a href="functionals.html#cb176-2" aria-hidden="true" tabindex="-1"></a>models <span class="ot">&lt;-</span> <span class="fu">lapply</span>(subset_list, <span class="cf">function</span>(x) <span class="fu">lm</span>(mpg <span class="sc">~</span> wt <span class="sc">+</span> hp <span class="sc">+</span> disp, x))</span>
<span id="cb176-3"><a href="functionals.html#cb176-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-4"><a href="functionals.html#cb176-4" aria-hidden="true" tabindex="-1"></a>models</span></code></pre></div>
<pre><code>## $`3`
## 
## Call:
## lm(formula = mpg ~ wt + hp + disp, data = x)
## 
## Coefficients:
## (Intercept)           wt           hp         disp  
##   29.496821    -2.312668    -0.030449     0.002989  
## 
## 
## $`4`
## 
## Call:
## lm(formula = mpg ~ wt + hp + disp, data = x)
## 
## Coefficients:
## (Intercept)           wt           hp         disp  
##    41.75225     -0.16968     -0.08850     -0.07198  
## 
## 
## $`5`
## 
## Call:
## lm(formula = mpg ~ wt + hp + disp, data = x)
## 
## Coefficients:
## (Intercept)           wt           hp         disp  
##    42.47699     -7.99454      0.01085     -0.01073</code></pre>
<p>Note that the <code>x</code> represents each dataset in subset_list. We can easily replace <code>x</code> with <code>y</code> and receive the same results. This is because <code>x</code> is merely a placeholder that represents each list element in <code>subset_list</code>. To demonstrate, below is the same as before but with <code>y</code> as the input for <code>function()</code>.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="functionals.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Same results as before</span></span>
<span id="cb178-2"><a href="functionals.html#cb178-2" aria-hidden="true" tabindex="-1"></a>models <span class="ot">&lt;-</span> <span class="fu">lapply</span>(subset_list, <span class="cf">function</span>(y) <span class="fu">lm</span>(mpg <span class="sc">~</span> wt <span class="sc">+</span> hp <span class="sc">+</span> disp, y))</span>
<span id="cb178-3"><a href="functionals.html#cb178-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-4"><a href="functionals.html#cb178-4" aria-hidden="true" tabindex="-1"></a>models</span></code></pre></div>
<pre><code>## $`3`
## 
## Call:
## lm(formula = mpg ~ wt + hp + disp, data = y)
## 
## Coefficients:
## (Intercept)           wt           hp         disp  
##   29.496821    -2.312668    -0.030449     0.002989  
## 
## 
## $`4`
## 
## Call:
## lm(formula = mpg ~ wt + hp + disp, data = y)
## 
## Coefficients:
## (Intercept)           wt           hp         disp  
##    41.75225     -0.16968     -0.08850     -0.07198  
## 
## 
## $`5`
## 
## Call:
## lm(formula = mpg ~ wt + hp + disp, data = y)
## 
## Coefficients:
## (Intercept)           wt           hp         disp  
##    42.47699     -7.99454      0.01085     -0.01073</code></pre>
</div>
<div id="sapply" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> <code>sapply()</code></h2>
<p>The <code>sapply()</code> function (“simplified apply”) casts a function over a dataset and outputs a vector or matrix (or list, depending on the function). This function can be useful when you want a “cleaner” representation of the results (i.e. results in a vector or matrix format).</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="functionals.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(mtcars, mean)</span></code></pre></div>
<pre><code>##        mpg        cyl       disp         hp       drat         wt       qsec 
##  20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
##         vs         am       gear       carb 
##   0.437500   0.406250   3.687500   2.812500</code></pre>
<p>As with <code>lapply()</code>, we can estimate several models iteratively with <code>sapply()</code>; however, the difference is that we can store coefficients in a matrix with the latter.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="functionals.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Split mtcars by gear</span></span>
<span id="cb182-2"><a href="functionals.html#cb182-2" aria-hidden="true" tabindex="-1"></a><span class="co"># i.e. each subset is based on a different number of gears.</span></span>
<span id="cb182-3"><a href="functionals.html#cb182-3" aria-hidden="true" tabindex="-1"></a>subset_list <span class="ot">&lt;-</span> <span class="fu">split</span>(mtcars, mtcars<span class="sc">$</span>gear)</span>
<span id="cb182-4"><a href="functionals.html#cb182-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-5"><a href="functionals.html#cb182-5" aria-hidden="true" tabindex="-1"></a>coefs <span class="ot">&lt;-</span> <span class="fu">sapply</span>(subset_list, <span class="cf">function</span>(x) <span class="fu">coef</span>(<span class="fu">lm</span>(mpg <span class="sc">~</span> wt <span class="sc">+</span> hp <span class="sc">+</span> disp, x)))</span>
<span id="cb182-6"><a href="functionals.html#cb182-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-7"><a href="functionals.html#cb182-7" aria-hidden="true" tabindex="-1"></a>coefs</span></code></pre></div>
<pre><code>##                        3           4           5
## (Intercept) 29.496821154 41.75225248 42.47698779
## wt          -2.312668246 -0.16968386 -7.99453576
## hp          -0.030449156 -0.08849952  0.01085093
## disp         0.002988812 -0.07197566 -0.01073200</code></pre>
</div>
<div id="apply" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> <code>apply()</code></h2>
<p>The <code>apply()</code> function can cast a function over a dataset row-wise or column-wise, returning a vector or matrix. This function is useful when you want to apply a function over a specific dimension.</p>
<p>Below is an example of using this function to apply a function row-wise on the <code>mtcars</code> dataset.</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="functionals.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Row-wise means.</span></span>
<span id="cb184-2"><a href="functionals.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Show only a few with head().</span></span>
<span id="cb184-3"><a href="functionals.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">apply</span>(mtcars, <span class="dv">1</span>, mean))</span></code></pre></div>
<pre><code>##         Mazda RX4     Mazda RX4 Wag        Datsun 710    Hornet 4 Drive 
##          29.90727          29.98136          23.59818          38.73955 
## Hornet Sportabout           Valiant 
##          53.66455          35.04909</code></pre>
<p>Again, but applying a function column-wise. Note that the results are similar to <code>sapply(mtcars, mean)</code>.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="functionals.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Column-wise means.</span></span>
<span id="cb186-2"><a href="functionals.html#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">apply</span>(mtcars, <span class="dv">2</span>, mean)</span></code></pre></div>
<pre><code>##        mpg        cyl       disp         hp       drat         wt       qsec 
##  20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
##         vs         am       gear       carb 
##   0.437500   0.406250   3.687500   2.812500</code></pre>
</div>
<div id="vapply" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> <code>vapply()</code></h2>
<p>The <code>vapply()</code> function (“vectorized apply”) works similarly as <code>sapply()</code>; however, there is a type-checking component to it. In other words, one can set whether the output should be numeric or character, for example, beforehand. If the output does not match the set type, an error will occur. This function is useful for type-checking your results (i.e., making sure the output matches your expectations).</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="functionals.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean of all mtcars columns</span></span>
<span id="cb188-2"><a href="functionals.html#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Type-check whether it is a numeric vector.</span></span>
<span id="cb188-3"><a href="functionals.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="fu">vapply</span>(mtcars, mean, <span class="fu">numeric</span>(<span class="dv">1</span>))</span></code></pre></div>
<pre><code>##        mpg        cyl       disp         hp       drat         wt       qsec 
##  20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
##         vs         am       gear       carb 
##   0.437500   0.406250   3.687500   2.812500</code></pre>
<p>Below is an example when <code>vapply()</code> throws an error due to an unexpected output type.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="functionals.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean of all mtcars columns</span></span>
<span id="cb190-2"><a href="functionals.html#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Type-check whether it is a character vector.</span></span>
<span id="cb190-3"><a href="functionals.html#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">vapply</span>(mtcars, mean, <span class="fu">character</span>(<span class="dv">1</span>))</span></code></pre></div>
<pre><code>## Error in vapply(mtcars, mean, character(1)): values must be type &#39;character&#39;,
##  but FUN(X[[1]]) result is type &#39;double&#39;</code></pre>
</div>
<div id="mapplymap" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> <code>mapply()</code>/<code>Map()</code></h2>
<p>The functions <code>mapply()</code> and <code>Map()</code> allow us to compute a function iteratively over one or more data inputs. These functions are useful when we want to iterate over multiple datasets in a pairwise fashion.</p>
<div id="univariate-case-1" class="section level3" number="9.5.1">
<h3><span class="header-section-number">9.5.1</span> Univariate Case</h3>
<p>In the univariate case, <code>mapply()</code>/<code>Map()</code> work similarly as <code>sapply()</code>/<code>lapply()</code>.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="functionals.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mapply</span>(mean, mtcars)</span></code></pre></div>
<pre><code>##        mpg        cyl       disp         hp       drat         wt       qsec 
##  20.090625   6.187500 230.721875 146.687500   3.596563   3.217250  17.848750 
##         vs         am       gear       carb 
##   0.437500   0.406250   3.687500   2.812500</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="functionals.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">Map</span>(mean, mtcars)) <span class="co"># Just show a few.</span></span></code></pre></div>
<pre><code>## $mpg
## [1] 20.09062
## 
## $cyl
## [1] 6.1875
## 
## $disp
## [1] 230.7219
## 
## $hp
## [1] 146.6875
## 
## $drat
## [1] 3.596563
## 
## $wt
## [1] 3.21725</code></pre>
</div>
<div id="multivariate-case-1" class="section level3" number="9.5.2">
<h3><span class="header-section-number">9.5.2</span> Multivariate Case</h3>
<p>In the multivariate case, we can have multiple data inputs.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="functionals.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Row bind mpg and wt from mtcars.</span></span>
<span id="cb196-2"><a href="functionals.html#cb196-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Output = matrix</span></span>
<span id="cb196-3"><a href="functionals.html#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Show only a few columns.</span></span>
<span id="cb196-4"><a href="functionals.html#cb196-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mapply</span>(rbind, mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt)[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre><code>##       [,1]   [,2]  [,3]   [,4]  [,5]
## [1,] 21.00 21.000 22.80 21.400 18.70
## [2,]  2.62  2.875  2.32  3.215  3.44</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="functionals.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Row bind mpg and wt from mtcars.</span></span>
<span id="cb198-2"><a href="functionals.html#cb198-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Output = list.</span></span>
<span id="cb198-3"><a href="functionals.html#cb198-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Show only a few rows.</span></span>
<span id="cb198-4"><a href="functionals.html#cb198-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">Map</span>(rbind, mtcars<span class="sc">$</span>mpg, mtcars<span class="sc">$</span>wt))</span></code></pre></div>
<pre><code>## [[1]]
##       [,1]
## [1,] 21.00
## [2,]  2.62
## 
## [[2]]
##        [,1]
## [1,] 21.000
## [2,]  2.875
## 
## [[3]]
##       [,1]
## [1,] 22.80
## [2,]  2.32
## 
## [[4]]
##        [,1]
## [1,] 21.400
## [2,]  3.215
## 
## [[5]]
##       [,1]
## [1,] 18.70
## [2,]  3.44
## 
## [[6]]
##       [,1]
## [1,] 18.10
## [2,]  3.46</code></pre>
</div>
</div>
<div id="rapply" class="section level2" number="9.6">
<h2><span class="header-section-number">9.6</span> <code>rapply()</code></h2>
<p>The <code>rapply()</code> function allows one to iterate over a list of datasets recursively. In effect, this function is useful when we want to execute a function over elements nested within other elements. For example, it allows us to compute the means for all columns in several datasets stored in a list simultaneously.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="functionals.html#cb200-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(mtcars, airquality, iris)</span>
<span id="cb200-2"><a href="functionals.html#cb200-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-3"><a href="functionals.html#cb200-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rapply</span>(my_list, <span class="co"># For this list...</span></span>
<span id="cb200-4"><a href="functionals.html#cb200-4" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Get all means...</span></span>
<span id="cb200-5"><a href="functionals.html#cb200-5" aria-hidden="true" tabindex="-1"></a>       mean,    </span>
<span id="cb200-6"><a href="functionals.html#cb200-6" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Remove missing values...</span></span>
<span id="cb200-7"><a href="functionals.html#cb200-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">na.rm =</span> <span class="cn">TRUE</span>, </span>
<span id="cb200-8"><a href="functionals.html#cb200-8" aria-hidden="true" tabindex="-1"></a>       <span class="co"># Calculate only for numeric columns</span></span>
<span id="cb200-9"><a href="functionals.html#cb200-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">classes =</span> <span class="st">&#39;numeric&#39;</span>) </span></code></pre></div>
<pre><code>##          mpg          cyl         disp           hp         drat           wt 
##    20.090625     6.187500   230.721875   146.687500     3.596563     3.217250 
##         qsec           vs           am         gear         carb         Wind 
##    17.848750     0.437500     0.406250     3.687500     2.812500     9.957516 
## Sepal.Length  Sepal.Width Petal.Length  Petal.Width 
##     5.843333     3.057333     3.758000     1.199333</code></pre>
</div>
<div id="tapply" class="section level2" number="9.7">
<h2><span class="header-section-number">9.7</span> <code>tapply()</code></h2>
<p>The function <code>tapply()</code> makes group-wise computations, outputting a vector as a result. The output being a vector can be useful when passing to other functions, such as <code>barplot()</code>. As such, you may want to use <code>tapply()</code> when (1) you want your grouped-computation output to be a vector of values and (2) you want to interact the output values with another function.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="functionals.html#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let&#39;s use iris, a pre-loaded dataset in R.</span></span>
<span id="cb202-2"><a href="functionals.html#cb202-2" aria-hidden="true" tabindex="-1"></a>means <span class="ot">&lt;-</span> <span class="fu">with</span>(iris, <span class="fu">tapply</span>(Sepal.Length, Species, mean))</span>
<span id="cb202-3"><a href="functionals.html#cb202-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb202-4"><a href="functionals.html#cb202-4" aria-hidden="true" tabindex="-1"></a>means</span></code></pre></div>
<pre><code>##     setosa versicolor  virginica 
##      5.006      5.936      6.588</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="functionals.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">barplot</span>(means, <span class="at">col =</span> <span class="st">&#39;cyan4&#39;</span>, <span class="at">ylab =</span> <span class="st">&#39;Mean Sepal Length&#39;</span>, <span class="at">xlab =</span> <span class="st">&#39;Species&#39;</span>)</span></code></pre></div>
<p><img src="aspr_files/figure-html/unnamed-chunk-85-1.png" width="672" /></p>
</div>
<div id="aggregate" class="section level2" number="9.8">
<h2><span class="header-section-number">9.8</span> <code>aggregate()</code></h2>
<p>Similar to <code>tapply()</code>, the function <code>aggregate()</code> allows you to make group-wise calculations; however, the output is a data frame rather than a vector. Additionally, you can input multiple independent variables (i.e. variables on the right-hand side of the formula syntax, <code>y ~ x</code>). This function may be preferred over <code>tapply()</code> when (1) you want multiple grouping variables and (2) you want your output to be in a 2-dimensional format.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="functionals.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the mean MPG by gear and am.</span></span>
<span id="cb205-2"><a href="functionals.html#cb205-2" aria-hidden="true" tabindex="-1"></a>my_agg <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(mpg <span class="sc">~</span> gear <span class="sc">+</span> am, mtcars, mean)</span>
<span id="cb205-3"><a href="functionals.html#cb205-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb205-4"><a href="functionals.html#cb205-4" aria-hidden="true" tabindex="-1"></a>my_agg</span></code></pre></div>
<pre><code>##   gear am      mpg
## 1    3  0 16.10667
## 2    4  0 21.05000
## 3    4  1 26.27500
## 4    5  1 21.38000</code></pre>
</div>
<div id="summary-8" class="section level2" number="9.9">
<h2><span class="header-section-number">9.9</span> Summary</h2>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-87">Table 9.1: </span>Summary of Functionals
</caption>
<thead>
<tr>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Description
</th>
<th style="text-align:left;">
Example
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
lapply(X, FUN)
</td>
<td style="text-align:left;">
Compute a function over data and output a list.
</td>
<td style="text-align:left;">
lapply(mtcars, mean)
</td>
</tr>
<tr>
<td style="text-align:left;">
sapply(X, FUN)
</td>
<td style="text-align:left;">
Compute a function over data and output a matrix (sometimes a list, depending on the function being passed).
</td>
<td style="text-align:left;">
sapply(mtcars, mean)
</td>
</tr>
<tr>
<td style="text-align:left;">
apply(X, MARGIN, FUN)
</td>
<td style="text-align:left;">
Compute a function row-wise or column-wise.
</td>
<td style="text-align:left;">
apply(mtcars, 1, mean); apply(mtcars, 2, mean)
</td>
</tr>
<tr>
<td style="text-align:left;">
vapply(X, FUN, FUN.VALUE)
</td>
<td style="text-align:left;">
Compute a function over data and check if the output matches a pre-specified type.
</td>
<td style="text-align:left;">
vapply(mtcars, mean, numeric(1))
</td>
</tr>
<tr>
<td style="text-align:left;">
mapply(FUN, …)
</td>
<td style="text-align:left;">
Compute a function over one or more data inputs and output an array (vector or matrix).
</td>
<td style="text-align:left;">
mapply(rbind, mtcars$mpg, mtcars$wt)
</td>
</tr>
<tr>
<td style="text-align:left;">
Map(f, …)
</td>
<td style="text-align:left;">
Compute a function over one or more data inputs and output a list.
</td>
<td style="text-align:left;">
Map(rbind, mtcars$mpg, mtcars$wt)
</td>
</tr>
<tr>
<td style="text-align:left;">
rapply(object, f, classes)
</td>
<td style="text-align:left;">
Recursively compute a function over data and output a vector or list.
</td>
<td style="text-align:left;">
rapply(iris, mean, classes = “numeric”)
</td>
</tr>
<tr>
<td style="text-align:left;">
tapply(X, INDEX, FUN)
</td>
<td style="text-align:left;">
Generate grouped computations and output a vector.
</td>
<td style="text-align:left;">
with(iris, tapply(Sepal.Length, Species, mean))
</td>
</tr>
<tr>
<td style="text-align:left;">
aggregate(formula, data, FUN)
</td>
<td style="text-align:left;">
Generate grouped computations and output a data frame.
</td>
<td style="text-align:left;">
aggregate(mpg ~ gear, mtcars, mean)
</td>
</tr>
</tbody>
</table>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="function-writing.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="graphing.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "sepia",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
